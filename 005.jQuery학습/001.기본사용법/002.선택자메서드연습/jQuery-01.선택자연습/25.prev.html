<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Traversal- prev</title>
    <!-- jQuery library -->
    <script src="../jquery-3.6.3.min.js"></script>
    <script src="../jquery-ui.min.js"></script>
    <script>
      // [3. prev() -  선택요소 이전형제요소 선택]
      // [4. prevAll() -  선택요소 이전형제요소 전부선택]

      // 미션: 마지막 p태그를 클릭하면 0.5초 간격으로 이전 형제요소의 배경색을 차례로 넣으시오.
      $(() => {
        $("#container")
          .children("p")
          .last()
          .click(function () {
            $(this)
              .animate(
                {
                  backgroundColor: "red",
                },
                500
              )
              .prev() // 지연시간은 애니메이션 앞에서만 효과가 있다
              .delay(1000)
              .animate({ backgroundColor: "yellow" })
              .prev()
              .delay(1500)
              .animate({ backgroundColor: "aqua" })
              .prev()
              .find("p")
              .delay(2000)
              .animate({ backgroundColor: "green" });
          });

        // 추가미션:
        // .sub 아래 마지막 p태그를 클릭하면
        // 이전 p태그 모두를 배경색 yellow,
        // 가로,세로 크기 100px로 원으로 변경
        // 애니메이션 하시오!
        // prevAll() 사용!
        $("sub")
          .children("p")
          .last()
          .click(function () {
            $(this).prevAll().animate(
              {
                backgroundColor: "yellow",
                width: "100px",
                height: "100px",
                borderRadius: "50%",
              },
              1000
            );
          });
      });
    </script>

    <style>
      div,
      p {
        float: left;
        margin: 10px;
        background-color: #fff;
      }
      div#sub {
        width: 80px;
        height: 80px;
        border: #000 thin solid;
      }
      p {
        width: 50px;
        height: 50px;
        border: #000 thin solid;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <div id="sub">
        <p>div p</p>
      </div>
      <p id="part1">p</p>
      <p>p</p>
      <p>p:나를클릭해!</p>
    </div>

    <div class="sub">
      <p>p</p>
      <p>p</p>
      <p>p</p>
      <p>p</p>
      <p>p:나도클릭!</p>
    </div>
  </body>
</html>
