<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>append()활용</title>
    <!-- jQuery library -->
    <script src="jquery-1.7.2.min.js"></script>
    <script>
      $(function () {
        // jQB //////////////////////////
        $("body,button").css({ fontSize: "40px" });

        // 1. 대상선정 :
        // (1) 변경대상 - #container
        const target = $("#container");
        // (2) 이벤트 대상 - 버튼들
        const btnAdd = $("#append");
        const btnAuto = $("#auto");
        const btnStop = $("#stop");

        // 디자인조정
        target.css({ marginTop: "20px", padding: "20px" });

        // 미션: 추가버튼을 클릭하면 이미지가 랜덤하게
        // #container에 추가되게하시오.
        btnAdd.click(() => {
          // 랜덤수 만들기 : 1~5
          let rdmNum = Math.ceil(Math.random() * 5);
          // 대상요소에 이미지 넣기
          target.append(`<img src="./th_pic${rdmNum}.jpg" alt="이미지">`);
          $("img").css({ display: "inlne-block", padding: "5px" });
        });

        // 추가미션: 자동버튼(#auto)클릭시 인터발함수로
        // 랜덤수 이미지 계속 추가하기 기능만들기 + 멈춤버튼(#stop)
        // 클릭시 인터발함수 멈추기!

        // 인터벌용 변수
        let autoI;

        btnAuto.click(() => {
          // 전역변수에 담아서 clearInterval 하도록 함
          // console.log(autoI);
          if (!autoI) {
            // console.log(autoI);
            autoI = setInterval(() => {
              // 이벤트대상.trigger(이벤트명)
              // 선택 요소에 이벤트 강제 발생
              btnAdd.trigger("click");
            }, 200);
          }
        });

        // 멈춤버튼
        btnStop.click(() => {
          clearInterval(autoI);
          autoI = false;
        });
      }); /// jQB ////////////////////////////////////
      //////////////////////////////////////////////
    </script>

    <style>
      div {
        border: #00f solid 1px;
      }
    </style>
  </head>

  <body>
    <button id="append" title="append">추가</button>
    <button id="auto">자동</button>
    <button id="stop">멈춤</button>

    <div id="container"></div>

    <!---------- jQuery code Start ---------->
    <script></script>
  </body>
</html>
